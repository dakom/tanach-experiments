var TXP=function(e){function o(){requestAnimationFrame(o),e.renderer.render(e.stage)}var t;return e.DoScaleWindow=function(){e.windowScaleRatio=scaleToWindow(e.renderer.view,t)},e.Init=function(n,a,r,i){e.canvasWidth=n,e.canvasHeight=a,t=r,e.renderer=PIXI.autoDetectRenderer(n,a),document.body.appendChild(e.renderer.view),e.stage=new PIXI.Container,requestAnimationFrame(o),i===!0&&(e.DoScaleWindow(),window.addEventListener("resize",e.DoScaleWindow))},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e,o){return"shaders/"+e+"."+o}function t(e,t){n=new PIXI.loaders.Loader;for(var i=0;i<e.vertex.length;i++){var d=e.vertex[i],s=o(d,a);n.add(s)}for(var i=0;i<e.fragment.length;i++){var d=e.fragment[i],s=o(d,r);n.add(s)}void 0!==t&&(void 0!==t.onProgress&&n.on("progress",t.onProgress),void 0!==t.onError&&n.on("error",t.onError),void 0!==t.onLoad&&n.on("load",t.onLoad),void 0!==t.onComplete&&n.on("complete",t.onComplete)),n.load()}var n,a="vert",r="frag";return e.Shaders.GetVertexCode=function(e){return n.resources[o(e,a)].data},e.Shaders.GetFragmentCode=function(e){return n.resources[o(e,r)].data},e.Shaders.Load=t,e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e,o){e.on("mouseover",function(t){o(e,t)})}function t(e,o){e.on("tap",function(t){o(e,t)}),e.on("click",function(t){o(e,t)})}function n(e,o){e.on("mousedown",function(t){o(e,t)}),e.on("touchstart",function(t){o(e,t)})}function a(e,o){e.on("mousemove",function(t){o(e,t)}),e.on("touchmove",function(t){o(e,t)})}function r(e,o){e.on("mouseup",function(t){o(e,t)}),e.on("mouseupoutside",function(t){o(e,t)}),e.on("touchend",function(t){o(e,t)}),e.on("touchendoutside",function(t){o(e,t)})}return e.Interactions.TouchEvent={addHoverListener:o,addTouchStartListener:n,addTouchMoveListener:a,addTouchEndListener:r,addClickTapListener:t},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e){r=new PIXI.loaders.Loader,r.add("books","media/tanach/books/all-books.json"),void 0!==e&&(void 0!==e.onProgress&&r.on("progress",e.onProgress),void 0!==e.onError&&r.on("error",e.onError),void 0!==e.onLoad&&r.on("load",e.onLoad),void 0!==e.onComplete&&r.on("complete",e.onComplete)),r.load()}function t(){return r.resources.books.data}function n(){ret=[];var e=t();bookMax=e.length;for(var o=0;o<bookMax;o++)for(var n=e[o],a=0;a<n.length;a++)for(var r=n[a],i=0;i<r.length;i++)for(var d=r[i],s=0;s<d.length;s++){var u=d[s];ret.push(u)}return ret}function a(e){ret=[];var o=t();bookMax=o.length;for(var n=0;n<bookMax;n++)for(var a=o[n],r=0;r<a.length;r++)for(var i=a[r],d=0;d<i.length;d++){var s=i[d];ret.push(s)}return ret}var r;return e.TanachData.Books={Load:o,GetData:t,GetAllLetters:n,GetAllWords:a},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e){n=new PIXI.loaders.Loader,n.add("letters","media/tanach/letters/letters.json"),void 0!==e&&(void 0!==e.onProgress&&n.on("progress",e.onProgress),void 0!==e.onError&&n.on("error",e.onError),void 0!==e.onLoad&&n.on("load",e.onLoad),void 0!==e.onComplete&&n.on("complete",e.onComplete)),n.load()}function t(){return n.resources.letters.data}var n;return e.TanachData.Letters={Load:o,GetData:t},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e){i=new PIXI.loaders.Loader;for(var o=0;o<d.length;o++){var t=d[o];i.add(t,"media/tanach/books/separate-books/"+t+".json")}void 0!==e&&(void 0!==e.onProgress&&i.on("progress",e.onProgress),void 0!==e.onError&&i.on("error",e.onError),void 0!==e.onLoad&&i.on("load",e.onLoad),void 0!==e.onComplete&&i.on("complete",e.onComplete)),i.load()}function t(e){return i.resources[e].data}function n(e){return t(e).data}function a(){for(var e=[],o=0;o<d.length;o++){var t=d[o];e.push(n(t))}return e}function r(e){void 0!==e&&null!==e||(e={}),e.benchMark&&(e.startTime=(new Date).getTime());for(var o=void 0===e.bookStartIndex?0:e.bookStartIndex,t=void 0===e.bookEndIndex?d.length:e.bookEndIndex,a=[],r=o;r<t;r++)for(var i=n(d[r]),s=0;s<i.length;s++)for(var u=i[s],c=0;c<u.length;c++){var l=u[c];if(1==e.gematriaPerWord){var h=TXP.Utils.Gematria.CountHebArray(l);a.push(h)}else for(var v=0;v<l.length;v++){var m=l[v];if(1==e.gematriaPerLetter){var h=TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE[m];a.push(h)}else a.push(m)}}if(e.benchMark){var T=(new Date).getTime()-e.startTime;console.log("total time: "+T+" milliseconds")}return a}var i,d=["bereishit","shmot","vayikra","bamidbar","devarim","yehoshua","shoftim","shmueli","shmuelii","melachimi","melachimii","yishayahu","yirmiyahu","yechezkiel","hosea","yoel","amos","ovadiah","yonah","micha","nachum","chabakuk","zephaniah","chaggai","zechariah","malachai","tehillim","mishlei","iyov","shirhashirim","ruth","eicha","kohelet","esther","daniel","ezra","nechemia","divreihayamimi","divreihayamimii"];return e.TanachData.SeparateBooks={Load:o,GetData:n,GetCombined:a,GetConfig:t,GetFlattened:r,names:d},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}});TXP=function(e){return e.Utils.Download=function(e,o,t){var n=document.createElement("a");if(t=t||"application/octet-stream",navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:t}),o);if("download"in n)return n.href="data:"+t+","+encodeURIComponent(e),n.setAttribute("download",o),document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n)},66),!0;var a=document.createElement("iframe");return document.body.appendChild(a),a.src="data:"+t+","+encodeURIComponent(e),setTimeout(function(){document.body.removeChild(a)},333),!0},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){return e.Utils.Gematria={CountHebArray:function(e,o){var t=0;void 0===o&&(o={});for(var n=0;n<e.length;n++){var a,r=e[n];a=o.sofit!==!0?TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE[r]:TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE_SOFIT[r],t+=a}return t}},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){return e.Utils.TextSubstitution={TEXT_HEBREW:[" ","א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת","ך","ם","ן","ף","ץ"],SUBSTITUTION_ATBASH:[0,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,12,10,9,6,5,0],SUBSTITUTION_ALBAM:[0,12,13,14,15,16,17,18,19,20,21,22,1,2,3,4,5,6,7,8,9,10,11,22,2,3,6,7,0],GEMATRIA_ABSOLUTE:[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200,300,400,20,40,50,80,90,0],GEMATRIA_REDUCED:[0,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,2,4,5,8,9,0],GEMATRIA_ORDINAL:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,11,13,14,17,18,0],GEMATRIA_ABSOLUTE_SOFIT:[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200,300,400,500,600,700,800,900,0],GEMATRIA_REDUCED_SOFIT:[0,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,0],GEMATRIA_ORDINAL_SOFIT:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,0],MILUI_OPTIONS:[0,[[1,12,26]],[[2,10,22],[2,22]],[[3,10,13,12],[3,13,12]],[[4,12,22],[4,12,10,22]],[[5,1],[5,10],[5,5]],[[6,6],[6,10,6],[6,1,6]],[[7,10,25]],[[8,10,22],[8,22]],[[9,10,22],[9,22]],[[10,6,4]],[[11,26]],[[12,13,4]],[[13,24]],[[14,6,25]],[[15,13,23]],[[16,10,25]],[[17,1],[17,10],[17,5]],[[18,4,10],[18,4,10,19]],[[19,6,26]],[[20,10,21],[20,21]],[[21,25],[21,10,25]],[[22,6],[22,10,6],[22,1,6]],[[11,26]],[[13,24]],[[14,6,25]],[[19,6,26]],[[18,4,10],[18,4,10,19]]]},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e,o,n){for(var a=Math.ceil(e*o),r=[],i=0;i<a;i++)r[i]={r:n.r,g:n.g,b:n.g,a:n.a};return t(e,o,r)}function t(e,o,t){var n=document.createElement("canvas");n.width=e,n.height=o;for(var a=function(){return void 0==n.getContext?G_vmlCanvasManager.initElement(n).getContext("2d"):n.getContext("2d")}(),r=a.createImageData(n.width,n.height),i=0,d=0;i<t.length&&d<r.data.length;i++){var s=t[i];r.data[d++]=s.r,r.data[d++]=s.g,r.data[d++]=s.b,r.data[d++]=s.a}return a.putImageData(r,0,0),PIXI.Texture.fromCanvas(n)}return e.Utils.Texture={CreateTextureFromData:t,CreateSolidTexture:o},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}});
var TXP=function(e){function n(){requestAnimationFrame(n),e.renderer.render(e.stage)}var t;return e.DoScaleWindow=function(){e.windowScaleRatio=scaleToWindow(e.renderer.view,t)},e.Init=function(o,a,r,i){e.canvasWidth=o,e.canvasHeight=a,t=r,e.renderer=PIXI.autoDetectRenderer(o,a),document.body.appendChild(e.renderer.view),e.stage=new PIXI.Container,requestAnimationFrame(n),i===!0&&(e.DoScaleWindow(),window.addEventListener("resize",e.DoScaleWindow))},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function n(e,n){e.on("mouseover",function(t){n(e,t)})}function t(e,n){e.on("tap",function(t){n(e,t)}),e.on("click",function(t){n(e,t)})}function o(e,n){e.on("mousedown",function(t){n(e,t)}),e.on("touchstart",function(t){n(e,t)})}function a(e,n){e.on("mousemove",function(t){n(e,t)}),e.on("touchmove",function(t){n(e,t)})}function r(e,n){e.on("mouseup",function(t){n(e,t)}),e.on("mouseupoutside",function(t){n(e,t)}),e.on("touchend",function(t){n(e,t)}),e.on("touchendoutside",function(t){n(e,t)})}return e.Interactions.TouchEvent={addHoverListener:n,addTouchStartListener:o,addTouchMoveListener:a,addTouchEndListener:r,addClickTapListener:t},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function n(e,n){return"shaders/"+e+"."+n}function t(e,t){o=new PIXI.loaders.Loader;for(var i=0;i<e.vertex.length;i++){var d=e.vertex[i],s=n(d,a);o.add(s)}for(var i=0;i<e.fragment.length;i++){var d=e.fragment[i],s=n(d,r);o.add(s)}void 0!==t&&(void 0!==t.onProgress&&o.on("progress",t.onProgress),void 0!==t.onError&&o.on("error",t.onError),void 0!==t.onLoad&&o.on("load",t.onLoad),void 0!==t.onComplete&&o.on("complete",t.onComplete)),o.load()}var o,a="vert",r="frag";return e.Shaders.GetVertexCode=function(e){return o.resources[n(e,a)].data},e.Shaders.GetFragmentCode=function(e){return o.resources[n(e,r)].data},e.Shaders.Load=t,e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function n(e){r=new PIXI.loaders.Loader;for(var n=0;n<i.length;n++){var t=i[n];r.add(t,"media/tanach/books/"+t+".json")}void 0!==e&&(void 0!==e.onProgress&&r.on("progress",e.onProgress),void 0!==e.onError&&r.on("error",e.onError),void 0!==e.onLoad&&r.on("load",e.onLoad),void 0!==e.onComplete&&r.on("complete",e.onComplete)),r.load()}function t(e){return r.resources[e].data}function o(e){return t(e).data}function a(e){void 0!==e&&null!==e||(e={}),e.benchMark&&(e.startTime=(new Date).getTime());for(var n=void 0===e.bookStartIndex?0:e.bookStartIndex,t=void 0===e.bookEndIndex?i.length:e.bookEndIndex,a=[],r=n;r<t;r++)for(var d=o(i[r]),s=0;s<d.length;s++)for(var c=d[s],u=0;u<c.length;u++){var h=c[u];if(1==e.gematriaPerWord){var l=TXP.Utils.Gematria.CountHebArray(h);a.push(l)}else for(var m=0;m<h.length;m++){var v=h[m];if(1==e.gematriaPerLetter){var l=TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE[v];a.push(l)}else a.push(v)}}if(e.benchMark){var T=(new Date).getTime()-e.startTime;console.log("total time: "+T+" milliseconds")}return a}var r,i=["bereishit","shmot","vayikra","bamidbar","devarim","yehoshua","shoftim","shmueli","shmuelii","melachimi","melachimii","yishayahu","yirmiyahu","yechezkiel","hosea","yoel","amos","ovadiah","yonah","micha","nachum","chabakuk","zephaniah","chaggai","zechariah","malachai","tehillim","mishlei","iyov","shirhashirim","ruth","eicha","kohelet","esther","daniel","ezra","nechemia","divreihayamimi","divreihayamimii"];return e.TanachData.Books={Load:n,GetData:o,GetConfig:t,GetFlattened:a,names:i},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function n(e){o=new PIXI.loaders.Loader,o.add("letters","media/tanach/letters/letters.json"),void 0!==e&&(void 0!==e.onProgress&&o.on("progress",e.onProgress),void 0!==e.onError&&o.on("error",e.onError),void 0!==e.onLoad&&o.on("load",e.onLoad),void 0!==e.onComplete&&o.on("complete",e.onComplete)),o.load()}function t(){return o.resources.letters.data}var o;return e.TanachData.Letters={Load:n,GetData:t},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}});TXP=function(e){return e.Utils.Download=function(e,n,t){var o=document.createElement("a");if(t=t||"application/octet-stream",navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:t}),n);if("download"in o)return o.href="data:"+t+","+encodeURIComponent(e),o.setAttribute("download",n),document.body.appendChild(o),setTimeout(function(){o.click(),document.body.removeChild(o)},66),!0;var a=document.createElement("iframe");return document.body.appendChild(a),a.src="data:"+t+","+encodeURIComponent(e),setTimeout(function(){document.body.removeChild(a)},333),!0},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){return e.Utils.Gematria={CountHebArray:function(e,n){for(var t=0,o=0;o<e.length;o++){var a=e[o],r=TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE[a];t+=r}return t}},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){return e.Utils.TextSubstitution={TEXT_HEBREW:[" ","א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת","ך","ם","ן","ף","ץ"],SUBSTITUTION_ATBASH:[0,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,12,10,9,6,5,0],SUBSTITUTION_ALBAM:[0,12,13,14,15,16,17,18,19,20,21,22,1,2,3,4,5,6,7,8,9,10,11,22,2,3,6,7,0],GEMATRIA_ABSOLUTE:[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200,300,400,20,40,50,80,90,0],GEMATRIA_REDUCED:[0,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,2,4,5,8,9,0],GEMATRIA_ORDINAL:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,11,13,14,17,18,0],GEMATRIA_ABSOLUTE_SOFIT:[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200,300,400,500,600,700,800,900,0],GEMATRIA_REDUCED_SOFIT:[0,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,0],GEMATRIA_ORDINAL_SOFIT:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,0],MILUI_OPTIONS:[0,[[1,12,26]],[[2,10,22],[2,22]],[[3,10,13,12],[3,13,12]],[[4,12,22],[4,12,10,22]],[[5,1],[5,10],[5,5]],[[6,6],[6,10,6],[6,1,6]],[[7,10,25]],[[8,10,22],[8,22]],[[9,10,22],[9,22]],[[10,6,4]],[[11,26]],[[12,13,4]],[[13,24]],[[14,6,25]],[[15,13,23]],[[16,10,25]],[[17,1],[17,10],[17,5]],[[18,4,10],[18,4,10,19]],[[19,6,26]],[[20,10,21],[20,21]],[[21,25],[21,10,25]],[[22,6],[22,10,6],[22,1,6]],[[11,26]],[[13,24]],[[14,6,25]],[[19,6,26]],[[18,4,10],[18,4,10,19]]]},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function n(e,n,o){for(var a=Math.ceil(e*n),r=[],i=0;i<a;i++)r[i]={r:o.r,g:o.g,b:o.g,a:o.a};return t(e,n,r)}function t(e,n,t){var o=document.createElement("canvas");o.width=e,o.height=n;for(var a=function(){return void 0==o.getContext?G_vmlCanvasManager.initElement(o).getContext("2d"):o.getContext("2d")}(),r=a.createImageData(o.width,o.height),i=0,d=0;i<t.length&&d<r.data.length;i++){var s=t[i];r.data[d++]=s.r,r.data[d++]=s.g,r.data[d++]=s.b,r.data[d++]=s.a}return a.putImageData(r,0,0),PIXI.Texture.fromCanvas(o)}return e.Utils.Texture={CreateTextureFromData:t,CreateSolidTexture:n},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}});
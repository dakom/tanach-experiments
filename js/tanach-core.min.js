var TXP=function(e){function o(){requestAnimationFrame(o),e.renderer.render(e.stage)}var a;return e.DoScaleWindow=function(){e.windowScaleRatio=scaleToWindow(e.renderer.view,a)},e.Init=function(t,n,r,i){e.canvasWidth=t,e.canvasHeight=n,a=r,e.renderer=PIXI.autoDetectRenderer(t,n),document.body.appendChild(e.renderer.view),e.stage=new PIXI.Container,requestAnimationFrame(o),i===!0&&(e.DoScaleWindow(),window.addEventListener("resize",e.DoScaleWindow))},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e,o){e.on("mouseover",function(a){o(e,a)})}function a(e,o){e.on("tap",function(a){o(e,a)}),e.on("click",function(a){o(e,a)})}function t(e,o){e.on("mousedown",function(a){o(e,a)}),e.on("touchstart",function(a){o(e,a)})}function n(e,o){e.on("mousemove",function(a){o(e,a)}),e.on("touchmove",function(a){o(e,a)})}function r(e,o){e.on("mouseup",function(a){o(e,a)}),e.on("mouseupoutside",function(a){o(e,a)}),e.on("touchend",function(a){o(e,a)}),e.on("touchendoutside",function(a){o(e,a)})}return e.Interactions.TouchEvent={addHoverListener:o,addTouchStartListener:t,addTouchMoveListener:n,addTouchEndListener:r,addClickTapListener:a},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e){i=new PIXI.loaders.Loader,i.add("books","media/tanach/books/all-books.json"),void 0!==e&&(void 0!==e.onProgress&&i.on("progress",e.onProgress),void 0!==e.onError&&i.on("error",e.onError),void 0!==e.onLoad&&i.on("load",e.onLoad),void 0!==e.onComplete&&i.on("complete",e.onComplete)),i.load()}function a(){return i.resources.books.data}function t(){if(void 0===d){u=[],d=[];var e=a();bookMax=e.length;for(var o=0;o<bookMax;o++)for(var t=e[o],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)for(var s=r[i],c=0;c<s.length;c++){var h=s[c];d.push(h),u.push({book:o,pasuk:n,word:i,letter:c})}}return d}function n(e){if(void 0===s){s=[];var o=a();bookMax=o.length;for(var t=0;t<bookMax;t++)for(var n=o[t],r=0;r<n.length;r++)for(var i=n[r],d=0;d<i.length;d++){var u=i[d];s.push(u)}}return s}function r(){return t(),u}var i,d,s,u;return e.TanachData.Books={Load:o,GetData:a,GetAllLetters:t,GetAllWords:n,GetLetterInfos:r},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e){t=new PIXI.loaders.Loader,t.add("letters","media/tanach/letters/letters.json"),void 0!==e&&(void 0!==e.onProgress&&t.on("progress",e.onProgress),void 0!==e.onError&&t.on("error",e.onError),void 0!==e.onLoad&&t.on("load",e.onLoad),void 0!==e.onComplete&&t.on("complete",e.onComplete)),t.load()}function a(){return t.resources.letters.data}var t;return e.TanachData.Letters={Load:o,GetData:a},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e){i=new PIXI.loaders.Loader;for(var o=0;o<d.length;o++){var a=d[o];i.add(a,"media/tanach/books/separate-books/"+a+".json")}void 0!==e&&(void 0!==e.onProgress&&i.on("progress",e.onProgress),void 0!==e.onError&&i.on("error",e.onError),void 0!==e.onLoad&&i.on("load",e.onLoad),void 0!==e.onComplete&&i.on("complete",e.onComplete)),i.load()}function a(e){return i.resources[e].data}function t(e){return a(e).data}function n(){for(var e=[],o=0;o<d.length;o++){var a=d[o];e.push(t(a))}return e}function r(e){void 0!==e&&null!==e||(e={}),e.benchMark&&(e.startTime=(new Date).getTime());for(var o=void 0===e.bookStartIndex?0:e.bookStartIndex,a=void 0===e.bookEndIndex?d.length:e.bookEndIndex,n=[],r=o;r<a;r++)for(var i=t(d[r]),s=0;s<i.length;s++)for(var u=i[s],c=0;c<u.length;c++){var h=u[c];if(1==e.gematriaPerWord){var l=TXP.Utils.Gematria.CountHebArray(h);n.push(l)}else for(var m=0;m<h.length;m++){var v=h[m];if(1==e.gematriaPerLetter){var l=TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE[v];n.push(l)}else n.push(v)}}if(e.benchMark){var f=(new Date).getTime()-e.startTime;console.log("total time: "+f+" milliseconds")}return n}var i,d=["bereishit","shmot","vayikra","bamidbar","devarim","yehoshua","shoftim","shmueli","shmuelii","melachimi","melachimii","yishayahu","yirmiyahu","yechezkiel","hosea","yoel","amos","ovadiah","yonah","micha","nachum","chabakuk","zephaniah","chaggai","zechariah","malachai","tehillim","mishlei","iyov","shirhashirim","ruth","eicha","kohelet","esther","daniel","ezra","nechemia","divreihayamimi","divreihayamimii"],s=["Bereishit","Shmot","Vayikra","Bamidbar","Devarim","Yehoshua","Shoftim","Shmuel I","Shmuel II","Melachim I","Melachim II","Yishayahu","Yirmiyahu","Yechezkiel","Hosea","Yoel","Amos","Ovadiah","Yonah","Micha","Nachum","Chabakuk","Zephaniah","Chaggai","Zechariah","Malachai","Tehillim","Mishlei","Iyov","Shir HaShirim","Ruth","Eicha","Kohelet","Esther","Daniel","Ezra","Nechemia","Divreihayamim I","Divreihayamim II"];return e.TanachData.SeparateBooks={Load:o,GetData:t,GetCombined:n,GetConfig:a,GetFlattened:r,names:d,niceNames:s},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e,o){return"shaders/"+e+"."+o}function a(e,a){t=new PIXI.loaders.Loader;for(var i=0;i<e.vertex.length;i++){var d=e.vertex[i],s=o(d,n);t.add(s)}for(var i=0;i<e.fragment.length;i++){var d=e.fragment[i],s=o(d,r);t.add(s)}void 0!==a&&(void 0!==a.onProgress&&t.on("progress",a.onProgress),void 0!==a.onError&&t.on("error",a.onError),void 0!==a.onLoad&&t.on("load",a.onLoad),void 0!==a.onComplete&&t.on("complete",a.onComplete)),t.load()}var t,n="vert",r="frag";return e.Shaders.GetVertexCode=function(e){return t.resources[o(e,n)].data},e.Shaders.GetFragmentCode=function(e){return t.resources[o(e,r)].data},e.Shaders.Load=a,e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}});TXP=function(e){return e.Utils.Download=function(e,o,a){var t=document.createElement("a");if(a=a||"application/octet-stream",navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:a}),o);if("download"in t)return t.href="data:"+a+","+encodeURIComponent(e),t.setAttribute("download",o),document.body.appendChild(t),setTimeout(function(){t.click(),document.body.removeChild(t)},66),!0;var n=document.createElement("iframe");return document.body.appendChild(n),n.src="data:"+a+","+encodeURIComponent(e),setTimeout(function(){document.body.removeChild(n)},333),!0},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){return e.Utils.Gematria={CountHebArray:function(e,o){var a=0;void 0===o&&(o={});for(var t=0;t<e.length;t++){var n,r=e[t];n=o.sofit!==!0?TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE[r]:TXP.Utils.TextSubstitution.GEMATRIA_ABSOLUTE_SOFIT[r],a+=n}return a}},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){return e.Utils.TextSubstitution={TEXT_HEBREW:[" ","א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת","ך","ם","ן","ף","ץ"],SUBSTITUTION_ATBASH:[0,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,12,10,9,6,5,0],SUBSTITUTION_ALBAM:[0,12,13,14,15,16,17,18,19,20,21,22,1,2,3,4,5,6,7,8,9,10,11,22,2,3,6,7,0],GEMATRIA_ABSOLUTE:[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200,300,400,20,40,50,80,90,0],GEMATRIA_REDUCED:[0,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,2,4,5,8,9,0],GEMATRIA_ORDINAL:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,11,13,14,17,18,0],GEMATRIA_ABSOLUTE_SOFIT:[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200,300,400,500,600,700,800,900,0],GEMATRIA_REDUCED_SOFIT:[0,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,0],GEMATRIA_ORDINAL_SOFIT:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,0],MILUI_OPTIONS:[0,[[1,12,26]],[[2,10,22],[2,22]],[[3,10,13,12],[3,13,12]],[[4,12,22],[4,12,10,22]],[[5,1],[5,10],[5,5]],[[6,6],[6,10,6],[6,1,6]],[[7,10,25]],[[8,10,22],[8,22]],[[9,10,22],[9,22]],[[10,6,4]],[[11,26]],[[12,13,4]],[[13,24]],[[14,6,25]],[[15,13,23]],[[16,10,25]],[[17,1],[17,10],[17,5]],[[18,4,10],[18,4,10,19]],[[19,6,26]],[[20,10,21],[20,21]],[[21,25],[21,10,25]],[[22,6],[22,10,6],[22,1,6]],[[11,26]],[[13,24]],[[14,6,25]],[[19,6,26]],[[18,4,10],[18,4,10,19]]]},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}}),TXP=function(e){function o(e,o,t){for(var n=Math.ceil(e*o),r=[],i=0;i<n;i++)r[i]={r:t.r,g:t.g,b:t.g,a:t.a};return a(e,o,r)}function a(e,o,a){var t=document.createElement("canvas");t.width=e,t.height=o;for(var n=function(){return void 0==t.getContext?G_vmlCanvasManager.initElement(t).getContext("2d"):t.getContext("2d")}(),r=n.createImageData(t.width,t.height),i=0,d=0;i<a.length&&d<r.data.length;i++){var s=a[i];r.data[d++]=s.r,r.data[d++]=s.g,r.data[d++]=s.b,r.data[d++]=s.a}return n.putImageData(r,0,0),PIXI.Texture.fromCanvas(t)}return e.Utils.Texture={CreateTextureFromData:a,CreateSolidTexture:o},e}(TXP||{Utils:{},Shaders:{},Interactions:{},TanachData:{}});
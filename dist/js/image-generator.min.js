var IMAGE_GENERATOR=function(t){function e(t,e){for(var a=$('<canvas width="'+TXP.canvasWidth+'" height="'+TXP.canvasHeight+'"> </canvas>')[0],r=function(){return void 0==a.getContext?G_vmlCanvasManager.initElement(a).getContext("2d"):a.getContext("2d")}(),n=r.createImageData(a.width,a.height),o=0,i=0;i<t.length;i++)t[i]>o&&(o=t[i]);console.log(o),console.log(t.length+" vs "+n.data.length);for(var l=16777215,g=0,i=0;i<n.data.length;i+=4){g>t.length&&(g=0);var h=t[g++];if(1==e.method){var s=h/o,c=s*l,f=Math.floor(c/65536),d=Math.floor(c/256)%256,v=c%256;n.data[i+0]=f,n.data[i+1]=d,n.data[i+2]=v,n.data[i+3]=255}}return r.putImageData(n,0,0),PIXI.Texture.fromCanvas(a)}var a=function(t){var e=$("#default-vertex-shader").text(),a=$("#gematria-fragment-shader").text();PIXI.Filter.call(this,e,a,{gSampler:{type:"sampler2D",value:t}})};return a.prototype=Object.create(PIXI.Filter.prototype),a.prototype.constructor=a,Object.defineProperties(a.prototype,{gTexture:{get:function(){return this.uniforms.gSampler},set:function(t){console.log("Changed in filter!"),this.uniforms.gSampler=t}}}),t.DrawGematriaImage=function(t){var r=e(t,{method:1}),n=new PIXI.Graphics;n.beginFill(16777215),n.drawRect(0,0,r.width,r.height),n.endFill();var o=new a(r);n.filters=[o],TXP.stage.addChild(n)},t}(IMAGE_GENERATOR||{}),IMAGE_GENERATOR=function(t){function e(){var t=TXP.Books.GetFlattened({benchMark:!0,gematriaPerLetter:!0});IMAGE_GENERATOR.DrawGematriaImage(t)}return t.Start=function(a){t.configOptions=a,TXP.Init(a.canvasWidth,a.canvasHeight,a.bgColor),TXP.Books.Load({onComplete:e})},t}(IMAGE_GENERATOR||{}),IMAGE_GENERATOR=function(t){return t.TempTest=function(){for(var t=TXP.Books.names,e=0,a=5,r=0;r<a;r++)for(var n=t[r],o=TXP.Books.GetData(n),i=0;i<o.length;i++)for(var l=o[i],g=0;g<l.length;g++)for(var h=l[g],s=0;s<h.length;s++){h[s];e++}console.log("TOTAL LETTERS: "+e)},t}(IMAGE_GENERATOR||{});